
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://maycalle.github.io/1bach/pygame_02.html">
      
      
        <link rel="prev" href="pygame_01.html">
      
      
        <link rel="next" href="pygame_03.html">
      
      
      <link rel="icon" href="img/logo_1bach.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Eventos y controles - Programación, Redes y Sistemas Informáticos I</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="css/extra.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="yellow">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#2-eventos-y-controles" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="index.html" title="Programación, Redes y Sistemas Informáticos I" class="md-header__button md-logo" aria-label="Programación, Redes y Sistemas Informáticos I" data-md-component="logo">
      
  <img src="img/logo_1bach.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Programación, Redes y Sistemas Informáticos I
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Eventos y controles
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="yellow"  aria-label="Cambiar a modo noche"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Cambiar a modo noche" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="yellow"  aria-label="Cambiar a modo día"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Cambiar a modo día" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="Programación, Redes y Sistemas Informáticos I" class="md-nav__button md-logo" aria-label="Programación, Redes y Sistemas Informáticos I" data-md-component="logo">
      
  <img src="img/logo_1bach.png" alt="logo">

    </a>
    Programación, Redes y Sistemas Informáticos I
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introducción
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Programación
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Programación
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Python
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="programacion_01.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Primeros pasos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="programacion_02.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Imprime, calcula y pregunta
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="programacion_03.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tipos de datos basicos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="programacion_04.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Otros operadores y estructuras selectivas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="programacion_05.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Estructuras repetitivas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="programacion_06.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Listas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="programacion_07.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Más sobre cadenas de texto
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="programacion_08.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Funciones
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    PyGame Zero
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            PyGame Zero
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="pygame_01.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Primeros pasos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Eventos y controles
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="pygame_02.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Eventos y controles
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#21-introduccion-a-los-eventos" class="md-nav__link">
    <span class="md-ellipsis">
      2.1. Introducción a los eventos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#22-controlando-objetos-con-el-teclado" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Controlando objetos con el teclado
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#23-controlando-objetos-con-el-raton" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 Controlando objetos con el ratón
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-control-avanzado-combinando-teclado-y-raton" class="md-nav__link">
    <span class="md-ellipsis">
      4. Control avanzado: combinando teclado y ratón
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="pygame_03.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Colisiones básicas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="pygame_04.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sonido, temporización y estados de juego
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="pygame_05.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mecánicas de juego. Saltos y enemigos básicos
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Inteligencia Artificial
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Inteligencia Artificial
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="programacionIA_01.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introducción a la IA
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="programacionIA_02.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Machine Learning y Deep Learning
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Sistemas informáticos
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Sistemas informáticos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="sistemas_01.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="sistemas_02.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Componentes básicos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="sistemas_03.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Evolución histórica
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="sisiemas_04.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Características actuales
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Redes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Redes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="redes_01.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="redes_02.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tipos de redes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="redes_03.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Elementos físicos de una red
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="redes_04.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fundamentos lógicos de las redes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="redes_05.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Diseño y estructura lógica de una red local
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Servicios en red
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Servicios en red
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="html_01.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HTML
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#21-introduccion-a-los-eventos" class="md-nav__link">
    <span class="md-ellipsis">
      2.1. Introducción a los eventos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#22-controlando-objetos-con-el-teclado" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Controlando objetos con el teclado
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#23-controlando-objetos-con-el-raton" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 Controlando objetos con el ratón
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-control-avanzado-combinando-teclado-y-raton" class="md-nav__link">
    <span class="md-ellipsis">
      4. Control avanzado: combinando teclado y ratón
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="2-eventos-y-controles">2. Eventos y controles<a class="headerlink" href="#2-eventos-y-controles" title="Permanent link">&para;</a></h1>
<p>En esta unidad, aprenderás a dar control al jugador sobre lo que sucede en el juego. Esto es fundamental para que el jugador pueda interactuar con el juego, como mover un personaje o hacer que reaccione al pulsar teclas específicas o al hacer clic con el ratón. Los eventos de teclado y ratón son esenciales en casi cualquier tipo de juego.</p>
<h2 id="21-introduccion-a-los-eventos">2.1. Introducción a los eventos<a class="headerlink" href="#21-introduccion-a-los-eventos" title="Permanent link">&para;</a></h2>
<p>En Pygame Zero, los <strong>eventos</strong> son acciones que realiza el jugador, como pulsar una tecla o hacer clic con el ratón. Podemos detectar estos eventos y programar acciones que respondan a ellos, lo que hace que el juego sea interactivo.</p>
<p>Existen principalmente dos tipos de eventos en Pygame Zero:
* <strong>Eventos de teclado:</strong> permiten que el jugador controle el juego usando teclas específicas.
* <strong>Eventos de ratón:</strong> permiten realizar acciones al hacer clic en ciertas partes de la pantalla.</p>
<h2 id="22-controlando-objetos-con-el-teclado">2.2 Controlando objetos con el teclado<a class="headerlink" href="#22-controlando-objetos-con-el-teclado" title="Permanent link">&para;</a></h2>
<p>Para detectar eventos de teclado, usamos el <strong>módulo keyboard</strong> de Pygame Zero. Este módulo permite comprobar si el jugador ha presionado una tecla específica y programar respuestas a esas acciones. </p>
<p><strong>Ejemplo 1. Mover un objeto en pantalla usando las teclas de flecha</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Importar librerías necesarias</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pgzrun</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="c1"># Centrar la ventana en el monitor</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;SDL_VIDEO_CENTERED&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span>

<span class="c1"># Dimensiones de la pantalla</span>
<span class="n">ANCHO</span> <span class="o">=</span> <span class="mi">800</span>
<span class="n">ALTO</span> <span class="o">=</span> <span class="mi">600</span>

<span class="c1"># Posición inicial del personaje</span>
<span class="n">jugador_x</span> <span class="o">=</span> <span class="mi">400</span>
<span class="n">jugador_y</span> <span class="o">=</span> <span class="mi">300</span>

<span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="s1">&#39;lightblue&#39;</span><span class="p">)</span>  <span class="c1"># Fondo color azul claro</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">((</span><span class="n">jugador_x</span><span class="p">,</span> <span class="n">jugador_y</span><span class="p">),</span> <span class="mi">30</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">)</span>  <span class="c1"># Dibuja un círculo que representa al personaje</span>

<span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">jugador_x</span><span class="p">,</span> <span class="n">jugador_y</span>

    <span class="c1"># Controles de movimiento usando las teclas de flecha</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
        <span class="n">jugador_x</span> <span class="o">-=</span> <span class="mi">5</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
        <span class="n">jugador_x</span> <span class="o">+=</span> <span class="mi">5</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">up</span><span class="p">:</span>
        <span class="n">jugador_y</span> <span class="o">-=</span> <span class="mi">5</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">down</span><span class="p">:</span>
        <span class="n">jugador_y</span> <span class="o">+=</span> <span class="mi">5</span>

<span class="n">pgzrun</span><span class="o">.</span><span class="n">go</span><span class="p">()</span> <span class="c1"># Inicia el juego</span>
</code></pre></div>
<blockquote>
<p><strong>Ejercicio 1.</strong> 
* Crea una figura o imagen y haz que se mueva por la pantalla usando las teclas de flecha. 
* Modifica el valor de desplazamiento (+= 5 o -= 5) para que se mueva más rápido o más lento.
* Prueba a mover la figura usando otras teclas, como W, A, S, D.</p>
</blockquote>
<h2 id="23-controlando-objetos-con-el-raton">2.3 Controlando objetos con el ratón<a class="headerlink" href="#23-controlando-objetos-con-el-raton" title="Permanent link">&para;</a></h2>
<p>Los <strong>eventos de ratón</strong> permiten al jugador interactuar con objetos haciendo clic en ellos o moviendo el ratón en la pantalla. Esto es útil para juegos en los que el jugador necesita seleccionar objetos o moverlos de acuerdo con la posición del ratón.</p>
<p>Pygame Zero usa la función especial <code>on_mouse_down(pos)</code> para detectar un clic. La variable <code>pos</code> nos da la posición exacta donde ocurrió el clic.</p>
<p><strong>Ejemplo 2. Cambiar la posición del personaje a otra con el ratón</strong></p>
<p>En el siguiente ejemplo se muestra cómo hacer que el personaje se traslade a la posición donde el jugador hace clic.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Importar librerías necesarias</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pgzrun</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="c1"># Centrar la ventana en el monitor</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;SDL_VIDEO_CENTERED&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span>

<span class="c1"># Dimensiones de la pantalla</span>
<span class="n">ANCHO</span> <span class="o">=</span> <span class="mi">800</span>
<span class="n">ALTO</span> <span class="o">=</span> <span class="mi">600</span>

<span class="c1"># Posición inicial del personaje</span>
<span class="n">jugador_x</span> <span class="o">=</span> <span class="mi">400</span>
<span class="n">jugador_y</span> <span class="o">=</span> <span class="mi">300</span>

<span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="s1">&#39;lightblue&#39;</span><span class="p">)</span>  <span class="c1"># Fondo color azul claro</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">((</span><span class="n">jugador_x</span><span class="p">,</span> <span class="n">jugador_y</span><span class="p">),</span> <span class="mi">30</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">on_mouse_down</span><span class="p">(</span><span class="n">pos</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">jugador_x</span><span class="p">,</span> <span class="n">jugador_y</span>
    <span class="n">jugador_x</span><span class="p">,</span> <span class="n">jugador_y</span> <span class="o">=</span> <span class="n">pos</span>  <span class="c1"># Mueve el personaje a la posición del clic</span>

<span class="n">pgzrun</span><span class="o">.</span><span class="n">go</span><span class="p">()</span> <span class="c1"># Inicia el juego</span>
</code></pre></div>
<blockquote>
<p><strong>Ejercicio 2.</strong><br />
* Modifica el código del ejemplo para que el personaje cambie entre dos colores cada vez que hagas clic en la pantalla. Puedes seguir los siguientes pasos:
      * Define una variable <code>color</code> al inicio del código (por ejemplo, color = 'green').
      * En la función <code>on_mouse_down(pos)</code>, cambia el valor de <code>color</code> (por ejemplo, de 'green' a 'red' y viceversa).
      * Usa la variable <code>color</code> en <code>draw()</code> para que el círculo se dibuje con el color actual.</p>
<p><strong>Ejercicio 3.</strong> 
* Modifica el código del ejemplo para que el tamaño del personaje aumente cada vez que el jugador hace clic en la pantalla. Puedes establecer un tamaño máximo para que no crezca indefinidamente (<em>if tamaño &gt; 60: tamaño = 30</em>)</p>
</blockquote>
<p><strong>Ejemplo 3. Desplazarse hacia un punto con movimiento gradual</strong></p>
<p>Vamos a ver cómo hacer que el personaje se desplace hacia el punto donde el jugador hace clic, pero de forma gradual, como si estuviera <em>"caminando"</em> o <em>"dirigiéndose"</em> hacia allí. </p>
<p>Para lograrlo:
1. Calcula la dirección hacia el punto objetivo, hallando la diferencia en x (<em>dx</em>) y en y (<em>dy</em>) entre el personaje y el punto de destino.
2. Usa el <strong>teorema de Pitágoras</strong> para calcular la distancia entre el personaje y el destino. Según el teorema de Pitágoras, la distancia (<em>d</em>) entre los puntos se calcula con la fórmula:</p>
<div align="center">
    <img src="/primero-bach/img/pitagoras.png" width="20%">
</div>

<p>Esta distancia nos ayuda a ajustar el movimiento en cada eje (<em>x</em> e <em>y</em>) de forma proporcional, logrando que el personaje se desplace en línea recta y a una velocidad constante.</p>
<p>En Python, podemos calcular la raíz cuadrada utilizando la función <code>sqrt()</code> de la librería <strong>math</strong>. Para acceder a <code>math.sqrt()</code> y otros métodos matemáticos, debemos importar <strong>math</strong> al inicio del programa.</p>
<ol start="3">
<li>Avanza en esa dirección en pequeños pasos, de forma que el personaje se desplace suavemente hacia el destino.</li>
</ol>
<p>En el ejemplo siguiente se muestra este efecto: </p>
<div class="highlight"><pre><span></span><code><span class="c1"># Importar librerías necesarias</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pgzrun</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">math</span>

<span class="c1"># Centrar la ventana en el monitor</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;SDL_VIDEO_CENTERED&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span>

<span class="c1"># Dimensiones de la pantalla</span>
<span class="n">ANCHO</span> <span class="o">=</span> <span class="mi">800</span>
<span class="n">ALTO</span> <span class="o">=</span> <span class="mi">600</span>

<span class="c1"># Posición inicial del personaje</span>
<span class="n">jugador_x</span> <span class="o">=</span> <span class="mi">400</span>
<span class="n">jugador_y</span> <span class="o">=</span> <span class="mi">300</span>

<span class="c1"># Variables de destino</span>
<span class="n">destino_x</span> <span class="o">=</span> <span class="n">jugador_x</span>
<span class="n">destino_y</span> <span class="o">=</span> <span class="n">jugador_y</span>

<span class="c1"># Velocidad de movimiento del personaje</span>
<span class="n">velocidad</span> <span class="o">=</span> <span class="mi">3</span>

<span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="s1">&#39;lightblue&#39;</span><span class="p">)</span>  <span class="c1"># Fondo color azul claro</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">((</span><span class="n">jugador_x</span><span class="p">,</span> <span class="n">jugador_y</span><span class="p">),</span> <span class="mi">30</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">)</span>  <span class="c1"># Dibuja el personaje</span>

<span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">jugador_x</span><span class="p">,</span> <span class="n">jugador_y</span>

    <span class="c1"># Calcula la distancia hacia el punto objetivo</span>
    <span class="n">dx</span> <span class="o">=</span> <span class="n">destino_x</span> <span class="o">-</span> <span class="n">jugador_x</span>
    <span class="n">dy</span> <span class="o">=</span> <span class="n">destino_y</span> <span class="o">-</span> <span class="n">jugador_y</span>
    <span class="n">distancia</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">dx</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">dy</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>

    <span class="c1"># Si el personaje no está en el destino, se mueve en esa dirección</span>
    <span class="k">if</span> <span class="n">distancia</span> <span class="o">&gt;</span> <span class="n">velocidad</span><span class="p">:</span>  <span class="c1"># Para que no se pase del destino</span>
        <span class="n">jugador_x</span> <span class="o">+=</span> <span class="n">velocidad</span> <span class="o">*</span> <span class="p">(</span><span class="n">dx</span> <span class="o">/</span> <span class="n">distancia</span><span class="p">)</span>
        <span class="n">jugador_y</span> <span class="o">+=</span> <span class="n">velocidad</span> <span class="o">*</span> <span class="p">(</span><span class="n">dy</span> <span class="o">/</span> <span class="n">distancia</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">on_mouse_down</span><span class="p">(</span><span class="n">pos</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">destino_x</span><span class="p">,</span> <span class="n">destino_y</span>
    <span class="n">destino_x</span><span class="p">,</span> <span class="n">destino_y</span> <span class="o">=</span> <span class="n">pos</span>  <span class="c1"># Actualiza el destino a la posición del clic</span>

<span class="n">pgzrun</span><span class="o">.</span><span class="n">go</span><span class="p">()</span> <span class="c1"># Inicia el juego</span>
</code></pre></div>
<p>¡Nuestro objeto se dirige a su destino a paso firme y constante! Te explico algunos detalles: </p>
<ul>
<li><strong>Variables de posición inicial y destino:</strong><ul>
<li><code>jugador_x</code> y <code>jugador_y</code> definen la posición inicial del personaje.</li>
<li><code>destino_x</code> y <code>destino_y</code> son las coordenadas del destino al que el personaje se dirigirá cuando el jugador haga clic.</li>
</ul>
</li>
<li><strong>Evento de ratón:</strong><ul>
<li>Cada vez que el jugador hace clic, <code>on_mouse_down(pos)</code> actualiza <code>destino_x</code> y <code>destino_y</code> a la posición del clic. Esto establece el destino y activa el movimiento del personaje hacia ese punto.</li>
</ul>
</li>
<li><strong>Cálculo de la distancia y dirección usando el teorema de Pitágoras</strong><ul>
<li>Para que el personaje se desplace correctamente, necesitamos calcular la distancia y dirección hacia el destino aplicando el teorema de Pitágoras.</li>
</ul>
</li>
<li><strong>Desplazamiento gradual hacia el destino:</strong><ul>
<li>Si la distancia entre el personaje y el destino es mayor que su velocidad, significa que el personaje aún no ha llegado y debe seguir avanzando hacia ese punto.</li>
<li>Para moverlo correctamente en cada eje (x e y):<ul>
<li>Dividimos <em>dx</em> y <em>dy</em> (las diferencias en x e y) por la distancia total. Esto nos indica la dirección exacta en la que debe moverse el personaje.</li>
<li>Multiplicamos esta dirección por la velocidad, lo que permite que el personaje avance en pequeños pasos hacia el destino.  </li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>Ejercicio 4.</strong> 
* Cambia la velocidad del personaje para ver cómo afecta al movimiento. Prueba diferentes valores de speed y observa los cambios.
* Agrega un segundo personaje que también se mueva hacia donde el jugador hace clic, pero de manera más lenta. </p>
</blockquote>
<h2 id="4-control-avanzado-combinando-teclado-y-raton">4. Control avanzado: combinando teclado y ratón<a class="headerlink" href="#4-control-avanzado-combinando-teclado-y-raton" title="Permanent link">&para;</a></h2>
<p>Podemos combinar los controles de teclado y ratón para hacer el juego aún más dinámico. Por ejemplo, el jugador podría moverse usando el teclado, pero disparar con el ratón en un juego de disparos.</p>
<p><strong>Ejemplo 4. Mover personaje con las teclas y disparar en una única dirección con el ratón</strong></p>
<p>Para gestionar los disparos en el juego, utilizamos una <strong>lista</strong> llamada <code>disparos</code>. Cada vez que el jugador hace clic, se añade un nuevo disparo a esta lista. Cada disparo tiene sus propias coordenadas en <em>x</em> e <em>y</em>, lo que permite que se muevan independientemente unos de otros.</p>
<ul>
<li><strong>Añadir disparos:</strong> cada vez que el jugador hace clic, se crea un nuevo disparo en la posición del personaje y se añade a la lista.</li>
<li><strong>Mover disparos:</strong> en cada actualización (<em>update</em>), todos los disparos se mueven hacia arriba en la pantalla, simulando un disparo.</li>
<li><strong>Eliminar disparos:</strong> si un disparo llega a la parte superior de la pantalla, se elimina de la lista para liberar memoria y mantener el juego ordenado.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># Importar librerías necesarias</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pgzrun</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">math</span>

<span class="c1"># Centrar la ventana en el monitor</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;SDL_VIDEO_CENTERED&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span>

<span class="c1"># Dimensiones de la pantalla</span>
<span class="n">ANCHO</span> <span class="o">=</span> <span class="mi">800</span>
<span class="n">ALTO</span> <span class="o">=</span> <span class="mi">600</span>

<span class="c1"># Posición inicial del personaje</span>
<span class="n">jugador_x</span> <span class="o">=</span> <span class="mi">400</span>
<span class="n">jugador_y</span> <span class="o">=</span> <span class="mi">300</span>

<span class="c1"># Lista para almacenar los disparos</span>
<span class="n">disparos</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="s1">&#39;lightblue&#39;</span><span class="p">)</span>  <span class="c1"># Fondo color azul claro</span>
    <span class="c1"># Dibujar el personaje como un círculo azul</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">((</span><span class="n">jugador_x</span><span class="p">,</span> <span class="n">jugador_y</span><span class="p">),</span> <span class="mi">30</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">)</span>
    <span class="c1"># Dibujar cada disparo como un círculo rojo pequeño</span>
    <span class="k">for</span> <span class="n">disparo</span> <span class="ow">in</span> <span class="n">disparos</span><span class="p">:</span>
        <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">disparo</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">jugador_x</span><span class="p">,</span> <span class="n">jugador_y</span>
    <span class="c1"># Mover el personaje con las flechas del teclado</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
        <span class="n">jugador_x</span> <span class="o">-=</span> <span class="mi">5</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
        <span class="n">jugador_x</span> <span class="o">+=</span> <span class="mi">5</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">up</span><span class="p">:</span>
        <span class="n">jugador_y</span> <span class="o">-=</span> <span class="mi">5</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">down</span><span class="p">:</span>
        <span class="n">jugador_y</span> <span class="o">+=</span> <span class="mi">5</span>

    <span class="c1"># Mover los disparos hacia arriba</span>
    <span class="k">for</span> <span class="n">disparo</span> <span class="ow">in</span> <span class="n">disparos</span><span class="p">:</span>
        <span class="n">disparo</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">10</span>

    <span class="c1"># Eliminar los disparos que salen de la pantalla</span>
    <span class="k">for</span> <span class="n">disparo</span> <span class="ow">in</span> <span class="n">disparos</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">disparo</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">disparos</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">disparo</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">on_mouse_down</span><span class="p">(</span><span class="n">pos</span><span class="p">):</span>
    <span class="c1"># Añadir un nuevo disparo en la posición del personaje</span>
    <span class="n">disparos</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">jugador_x</span><span class="p">,</span> <span class="n">jugador_y</span><span class="p">])</span>

<span class="n">pgzrun</span><span class="o">.</span><span class="n">go</span><span class="p">()</span> <span class="c1"># Inicia el juego</span>
</code></pre></div>
<p><strong>Ejemplo 5. Mover personaje con las teclas y disparar en una varias direcciones con el ratón</strong></p>
<p>En este ejemplo, el personaje se mueve con las teclas de flecha y dispara en la dirección del ratón cuando el jugador hace clic. Este tipo de control es común en juegos de disparos, donde el jugador puede moverse en una dirección y disparar en otra.</p>
<p>Para gestionar los disparos, utilizamos listas para almacenar las propiedades de cada disparo, como su posición y dirección. Esto nos permite tener múltiples disparos en pantalla, cada uno avanzando en línea recta hacia donde el jugador hizo clic.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Importar librerías necesarias</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pgzrun</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">math</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="c1"># Centrar la ventana en el monitor</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;SDL_VIDEO_CENTERED&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span>

<span class="c1"># Dimensiones de la pantalla</span>
<span class="n">ANCHO</span> <span class="o">=</span> <span class="mi">800</span>
<span class="n">ALTO</span> <span class="o">=</span> <span class="mi">600</span>

<span class="c1"># Posición inicial del personaje</span>
<span class="n">jugador_x</span> <span class="o">=</span> <span class="mi">400</span>
<span class="n">jugador_y</span> <span class="o">=</span> <span class="mi">300</span>

<span class="c1"># Listas para almacenar las propiedades de cada disparo</span>
<span class="n">disparos_x</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Posiciones x de los disparos</span>
<span class="n">disparos_y</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Posiciones y de los disparos</span>
<span class="n">disparos_dx</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Dirección x de los disparos</span>
<span class="n">disparos_dy</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Dirección y de los disparos</span>
<span class="n">disparos_velocidad</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># Velocidad constante para todos los disparos</span>

<span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="s1">&#39;lightblue&#39;</span><span class="p">)</span>  <span class="c1"># Fondo color azul claro</span>
    <span class="c1"># Dibujar el personaje como un círculo azul</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">((</span><span class="n">jugador_x</span><span class="p">,</span> <span class="n">jugador_y</span><span class="p">),</span> <span class="mi">30</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">)</span>
    <span class="c1"># Dibujar cada disparo como un círculo rojo pequeño</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">disparos_x</span><span class="p">)):</span>
        <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">((</span><span class="n">disparos_x</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">disparos_y</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">jugador_x</span><span class="p">,</span> <span class="n">jugador_y</span><span class="p">,</span> <span class="n">disparos_x</span><span class="p">,</span> <span class="n">disparos_y</span><span class="p">,</span> <span class="n">disparos_dx</span><span class="p">,</span> <span class="n">disparos_dy</span>

    <span class="c1"># Mover el personaje con las flechas del teclado</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
        <span class="n">jugador_x</span> <span class="o">-=</span> <span class="mi">5</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
        <span class="n">jugador_x</span> <span class="o">+=</span> <span class="mi">5</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">up</span><span class="p">:</span>
        <span class="n">jugador_y</span> <span class="o">-=</span> <span class="mi">5</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">down</span><span class="p">:</span>
        <span class="n">jugador_y</span> <span class="o">+=</span> <span class="mi">5</span>

    <span class="c1"># Mover cada disparo en su dirección</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">disparos_x</span><span class="p">)):</span>
        <span class="n">disparos_x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">disparos_dx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="n">disparos_velocidad</span>
        <span class="n">disparos_y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">disparos_dy</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="n">disparos_velocidad</span>

    <span class="c1"># Crear listas temporales para almacenar solo los disparos dentro de la pantalla</span>
    <span class="n">nuevos_disparos_x</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">nuevos_disparos_y</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">nuevos_disparos_dx</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">nuevos_disparos_dy</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">disparos_x</span><span class="p">)):</span>
        <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">disparos_x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">ANCHO</span> <span class="ow">and</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">disparos_y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">ALTO</span><span class="p">:</span>
            <span class="c1"># Añadir solo los disparos dentro de la pantalla a las listas temporales</span>
            <span class="n">nuevos_disparos_x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">disparos_x</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">nuevos_disparos_y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">disparos_y</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">nuevos_disparos_dx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">disparos_dx</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">nuevos_disparos_dy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">disparos_dy</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

    <span class="c1"># Actualizar las listas de disparos</span>
    <span class="n">disparos_x</span> <span class="o">=</span> <span class="n">nuevos_disparos_x</span>
    <span class="n">disparos_y</span> <span class="o">=</span> <span class="n">nuevos_disparos_y</span>
    <span class="n">disparos_dx</span> <span class="o">=</span> <span class="n">nuevos_disparos_dx</span>
    <span class="n">disparos_dy</span> <span class="o">=</span> <span class="n">nuevos_disparos_dy</span>

<span class="k">def</span><span class="w"> </span><span class="nf">on_mouse_down</span><span class="p">(</span><span class="n">pos</span><span class="p">):</span>
    <span class="c1"># Calcular la dirección del disparo hacia el punto donde se hizo clic</span>
    <span class="n">dx</span> <span class="o">=</span> <span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">jugador_x</span>
    <span class="n">dy</span> <span class="o">=</span> <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">jugador_y</span>
    <span class="n">distancia</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">dx</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">dy</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>

    <span class="c1"># Ajustar la dirección para que el disparo siga una línea recta hacia el clic</span>
    <span class="n">dx</span> <span class="o">=</span> <span class="n">dx</span> <span class="o">/</span> <span class="n">distancia</span>
    <span class="n">dy</span> <span class="o">=</span> <span class="n">dy</span> <span class="o">/</span> <span class="n">distancia</span>

    <span class="c1"># Añadir el nuevo disparo a cada lista</span>
    <span class="n">disparos_x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">jugador_x</span><span class="p">)</span>
    <span class="n">disparos_y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">jugador_y</span><span class="p">)</span>
    <span class="n">disparos_dx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dx</span><span class="p">)</span>
    <span class="n">disparos_dy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dy</span><span class="p">)</span>

<span class="n">pgzrun</span><span class="o">.</span><span class="n">go</span><span class="p">()</span>  <span class="c1"># Inicia el juego</span>
</code></pre></div>
<blockquote>
<p><strong>Ejercicio 5.</strong> Modifica el código para que el color de cada disparo cambie en función de la dirección del clic. 
  * Si el clic está a la derecha del personaje, el disparo debe ser azul.
  * Si el clic está a la izquierda del personaje, el disparo debe ser rojo.</p>
<p><strong>PISTAS:</strong>
  * Añade una lista <code>disparos_color</code> para almacenar el color de cada disparo.
  * En la función <code>on_mouse_down</code>, determina el color del disparo según la posición del clic en relación con la posición del personaje.
  * Usa <code>screen.draw.circle</code> en la función draw para dibujar cada disparo con su color correspondiente.</p>
<p><strong>Ejercicio 6.</strong> Haz que solo pueda haber un máximo de 5 disparos en pantalla a la vez. Si ya hay 5 disparos, el personaje no podrá disparar hasta que uno de ellos desaparezca de la pantalla.</p>
</blockquote>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Pie" >
        
          
          <a href="pygame_01.html" class="md-footer__link md-footer__link--prev" aria-label="Anterior: Primeros pasos">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Anterior
              </span>
              <div class="md-ellipsis">
                Primeros pasos
              </div>
            </div>
          </a>
        
        
          
          <a href="pygame_03.html" class="md-footer__link md-footer__link--next" aria-label="Siguiente: Colisiones básicas">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Siguiente
              </span>
              <div class="md-ellipsis">
                Colisiones básicas
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  


<h4>Consentimiento de cookies</h4>
<p>Este sitio web utiliza cookies para ofrecerte una mejor experiencia.  Al hacer clic en "Aceptar", aceptas el uso de cookies.  También puedes configurar tus preferencias de cookies si lo prefieres.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
    
      
    
    
      
    
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Aceptar</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Gestionar cookies</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    
      
      <script id="__config" type="application/json">{"base": ".", "features": ["header.autohide", "navigation.top", "navigation.tracking", "navigation.footer", "navigation.indexes", "content.code.annotate", "announce.dismiss", "toc.follow", "content.code.copy"], "search": "assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>